{"ast":null,"code":"import { Directionality, BidiModule } from '@angular/cdk/bidi';\nimport { Platform, PlatformModule } from '@angular/cdk/platform';\nimport { Component, ChangeDetectionStrategy, ViewEncapsulation, ChangeDetectorRef, Optional, Input, EventEmitter, NgZone, Output, Inject, LOCALE_ID, NgModule } from '@angular/core';\nimport { Subject, interval } from 'rxjs';\nimport { takeUntil } from 'rxjs/operators';\nimport { getLocaleNumberSymbol, NumberSymbol, CommonModule } from '@angular/common';\nimport { NzOutletModule } from 'ng-zorro-antd/core/outlet';\nimport { NzPipesModule } from 'ng-zorro-antd/core/pipe';\n/**\n * Use of this source code is governed by an MIT-style license that can be\n * found in the LICENSE file at https://github.com/NG-ZORRO/ng-zorro-antd/blob/master/LICENSE\n */\n\nimport * as ɵngcc0 from '@angular/core';\nimport * as ɵngcc1 from '@angular/cdk/bidi';\nimport * as ɵngcc2 from 'ng-zorro-antd/core/outlet';\nimport * as ɵngcc3 from '@angular/common';\nimport * as ɵngcc4 from '@angular/cdk/platform';\nimport * as ɵngcc5 from 'ng-zorro-antd/core/pipe';\n\nfunction NzStatisticComponent_ng_container_2_Template(rf, ctx) {\n  if (rf & 1) {\n    ɵngcc0.ɵɵelementContainerStart(0);\n    ɵngcc0.ɵɵtext(1);\n    ɵngcc0.ɵɵelementContainerEnd();\n  }\n\n  if (rf & 2) {\n    const ctx_r0 = ɵngcc0.ɵɵnextContext();\n    ɵngcc0.ɵɵadvance(1);\n    ɵngcc0.ɵɵtextInterpolate(ctx_r0.nzTitle);\n  }\n}\n\nfunction NzStatisticComponent_span_4_ng_container_1_Template(rf, ctx) {\n  if (rf & 1) {\n    ɵngcc0.ɵɵelementContainerStart(0);\n    ɵngcc0.ɵɵtext(1);\n    ɵngcc0.ɵɵelementContainerEnd();\n  }\n\n  if (rf & 2) {\n    const ctx_r3 = ɵngcc0.ɵɵnextContext(2);\n    ɵngcc0.ɵɵadvance(1);\n    ɵngcc0.ɵɵtextInterpolate(ctx_r3.nzPrefix);\n  }\n}\n\nfunction NzStatisticComponent_span_4_Template(rf, ctx) {\n  if (rf & 1) {\n    ɵngcc0.ɵɵelementStart(0, \"span\", 7);\n    ɵngcc0.ɵɵtemplate(1, NzStatisticComponent_span_4_ng_container_1_Template, 2, 1, \"ng-container\", 2);\n    ɵngcc0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    const ctx_r1 = ɵngcc0.ɵɵnextContext();\n    ɵngcc0.ɵɵadvance(1);\n    ɵngcc0.ɵɵproperty(\"nzStringTemplateOutlet\", ctx_r1.nzPrefix);\n  }\n}\n\nfunction NzStatisticComponent_span_6_ng_container_1_Template(rf, ctx) {\n  if (rf & 1) {\n    ɵngcc0.ɵɵelementContainerStart(0);\n    ɵngcc0.ɵɵtext(1);\n    ɵngcc0.ɵɵelementContainerEnd();\n  }\n\n  if (rf & 2) {\n    const ctx_r4 = ɵngcc0.ɵɵnextContext(2);\n    ɵngcc0.ɵɵadvance(1);\n    ɵngcc0.ɵɵtextInterpolate(ctx_r4.nzSuffix);\n  }\n}\n\nfunction NzStatisticComponent_span_6_Template(rf, ctx) {\n  if (rf & 1) {\n    ɵngcc0.ɵɵelementStart(0, \"span\", 8);\n    ɵngcc0.ɵɵtemplate(1, NzStatisticComponent_span_6_ng_container_1_Template, 2, 1, \"ng-container\", 2);\n    ɵngcc0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    const ctx_r2 = ɵngcc0.ɵɵnextContext();\n    ɵngcc0.ɵɵadvance(1);\n    ɵngcc0.ɵɵproperty(\"nzStringTemplateOutlet\", ctx_r2.nzSuffix);\n  }\n}\n\nfunction NzCountdownComponent_ng_template_1_Template(rf, ctx) {\n  if (rf & 1) {\n    ɵngcc0.ɵɵtext(0);\n    ɵngcc0.ɵɵpipe(1, \"nzTimeRange\");\n  }\n\n  if (rf & 2) {\n    const ctx_r1 = ɵngcc0.ɵɵnextContext();\n    ɵngcc0.ɵɵtextInterpolate(ɵngcc0.ɵɵpipeBind2(1, 1, ctx_r1.diff, ctx_r1.nzFormat));\n  }\n}\n\nconst _c0 = function (a0) {\n  return {\n    $implicit: a0\n  };\n};\n\nfunction NzStatisticNumberComponent_ng_container_1_Template(rf, ctx) {\n  if (rf & 1) {\n    ɵngcc0.ɵɵelementContainer(0, 3);\n  }\n\n  if (rf & 2) {\n    const ctx_r0 = ɵngcc0.ɵɵnextContext();\n    ɵngcc0.ɵɵproperty(\"ngTemplateOutlet\", ctx_r0.nzValueTemplate)(\"ngTemplateOutletContext\", ɵngcc0.ɵɵpureFunction1(2, _c0, ctx_r0.nzValue));\n  }\n}\n\nfunction NzStatisticNumberComponent_ng_container_2_span_1_Template(rf, ctx) {\n  if (rf & 1) {\n    ɵngcc0.ɵɵelementStart(0, \"span\", 6);\n    ɵngcc0.ɵɵtext(1);\n    ɵngcc0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    const ctx_r2 = ɵngcc0.ɵɵnextContext(2);\n    ɵngcc0.ɵɵadvance(1);\n    ɵngcc0.ɵɵtextInterpolate(ctx_r2.displayInt);\n  }\n}\n\nfunction NzStatisticNumberComponent_ng_container_2_span_2_Template(rf, ctx) {\n  if (rf & 1) {\n    ɵngcc0.ɵɵelementStart(0, \"span\", 7);\n    ɵngcc0.ɵɵtext(1);\n    ɵngcc0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    const ctx_r3 = ɵngcc0.ɵɵnextContext(2);\n    ɵngcc0.ɵɵadvance(1);\n    ɵngcc0.ɵɵtextInterpolate(ctx_r3.displayDecimal);\n  }\n}\n\nfunction NzStatisticNumberComponent_ng_container_2_Template(rf, ctx) {\n  if (rf & 1) {\n    ɵngcc0.ɵɵelementContainerStart(0);\n    ɵngcc0.ɵɵtemplate(1, NzStatisticNumberComponent_ng_container_2_span_1_Template, 2, 1, \"span\", 4);\n    ɵngcc0.ɵɵtemplate(2, NzStatisticNumberComponent_ng_container_2_span_2_Template, 2, 1, \"span\", 5);\n    ɵngcc0.ɵɵelementContainerEnd();\n  }\n\n  if (rf & 2) {\n    const ctx_r1 = ɵngcc0.ɵɵnextContext();\n    ɵngcc0.ɵɵadvance(1);\n    ɵngcc0.ɵɵproperty(\"ngIf\", ctx_r1.displayInt);\n    ɵngcc0.ɵɵadvance(1);\n    ɵngcc0.ɵɵproperty(\"ngIf\", ctx_r1.displayDecimal);\n  }\n}\n\nlet NzStatisticComponent = /*#__PURE__*/(() => {\n  class NzStatisticComponent {\n    constructor(cdr, directionality) {\n      this.cdr = cdr;\n      this.directionality = directionality;\n      this.nzValueStyle = {};\n      this.dir = 'ltr';\n      this.destroy$ = new Subject();\n    }\n\n    ngOnInit() {\n      var _a;\n\n      (_a = this.directionality.change) === null || _a === void 0 ? void 0 : _a.pipe(takeUntil(this.destroy$)).subscribe(direction => {\n        this.dir = direction;\n        this.cdr.detectChanges();\n      });\n      this.dir = this.directionality.value;\n    }\n\n    ngOnDestroy() {\n      this.destroy$.next();\n      this.destroy$.complete();\n    }\n\n  }\n\n  NzStatisticComponent.ɵfac = function NzStatisticComponent_Factory(t) {\n    return new (t || NzStatisticComponent)(ɵngcc0.ɵɵdirectiveInject(ɵngcc0.ChangeDetectorRef), ɵngcc0.ɵɵdirectiveInject(ɵngcc1.Directionality, 8));\n  };\n\n  NzStatisticComponent.ɵcmp = /*@__PURE__*/ɵngcc0.ɵɵdefineComponent({\n    type: NzStatisticComponent,\n    selectors: [[\"nz-statistic\"]],\n    inputs: {\n      nzValueStyle: \"nzValueStyle\",\n      nzPrefix: \"nzPrefix\",\n      nzSuffix: \"nzSuffix\",\n      nzTitle: \"nzTitle\",\n      nzValue: \"nzValue\",\n      nzValueTemplate: \"nzValueTemplate\"\n    },\n    exportAs: [\"nzStatistic\"],\n    decls: 7,\n    vars: 8,\n    consts: [[1, \"ant-statistic\"], [1, \"ant-statistic-title\"], [4, \"nzStringTemplateOutlet\"], [1, \"ant-statistic-content\", 3, \"ngStyle\"], [\"class\", \"ant-statistic-content-prefix\", 4, \"ngIf\"], [3, \"nzValue\", \"nzValueTemplate\"], [\"class\", \"ant-statistic-content-suffix\", 4, \"ngIf\"], [1, \"ant-statistic-content-prefix\"], [1, \"ant-statistic-content-suffix\"]],\n    template: function NzStatisticComponent_Template(rf, ctx) {\n      if (rf & 1) {\n        ɵngcc0.ɵɵelementStart(0, \"div\", 0);\n        ɵngcc0.ɵɵelementStart(1, \"div\", 1);\n        ɵngcc0.ɵɵtemplate(2, NzStatisticComponent_ng_container_2_Template, 2, 1, \"ng-container\", 2);\n        ɵngcc0.ɵɵelementEnd();\n        ɵngcc0.ɵɵelementStart(3, \"div\", 3);\n        ɵngcc0.ɵɵtemplate(4, NzStatisticComponent_span_4_Template, 2, 1, \"span\", 4);\n        ɵngcc0.ɵɵelement(5, \"nz-statistic-number\", 5);\n        ɵngcc0.ɵɵtemplate(6, NzStatisticComponent_span_6_Template, 2, 1, \"span\", 6);\n        ɵngcc0.ɵɵelementEnd();\n        ɵngcc0.ɵɵelementEnd();\n      }\n\n      if (rf & 2) {\n        ɵngcc0.ɵɵclassProp(\"ant-statistic-rtl\", ctx.dir === \"rtl\");\n        ɵngcc0.ɵɵadvance(2);\n        ɵngcc0.ɵɵproperty(\"nzStringTemplateOutlet\", ctx.nzTitle);\n        ɵngcc0.ɵɵadvance(1);\n        ɵngcc0.ɵɵproperty(\"ngStyle\", ctx.nzValueStyle);\n        ɵngcc0.ɵɵadvance(1);\n        ɵngcc0.ɵɵproperty(\"ngIf\", ctx.nzPrefix);\n        ɵngcc0.ɵɵadvance(1);\n        ɵngcc0.ɵɵproperty(\"nzValue\", ctx.nzValue)(\"nzValueTemplate\", ctx.nzValueTemplate);\n        ɵngcc0.ɵɵadvance(1);\n        ɵngcc0.ɵɵproperty(\"ngIf\", ctx.nzSuffix);\n      }\n    },\n    directives: function () {\n      return [ɵngcc2.NzStringTemplateOutletDirective, ɵngcc3.NgStyle, ɵngcc3.NgIf, NzStatisticNumberComponent];\n    },\n    encapsulation: 2,\n    changeDetection: 0\n  });\n  return NzStatisticComponent;\n})();\n\n(function () {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && void 0;\n})();\n/**\n * Use of this source code is governed by an MIT-style license that can be\n * found in the LICENSE file at https://github.com/NG-ZORRO/ng-zorro-antd/blob/master/LICENSE\n */\n\n\nconst REFRESH_INTERVAL = 1000 / 30;\nlet NzCountdownComponent = /*#__PURE__*/(() => {\n  class NzCountdownComponent extends NzStatisticComponent {\n    constructor(cdr, ngZone, platform, directionality) {\n      super(cdr, directionality);\n      this.ngZone = ngZone;\n      this.platform = platform;\n      this.nzFormat = 'HH:mm:ss';\n      this.nzCountdownFinish = new EventEmitter();\n      this.target = 0;\n    }\n\n    ngOnChanges(changes) {\n      if (changes.nzValue) {\n        this.target = Number(changes.nzValue.currentValue);\n\n        if (!changes.nzValue.isFirstChange()) {\n          this.syncTimer();\n        }\n      }\n    }\n\n    ngOnInit() {\n      super.ngOnInit();\n      this.syncTimer();\n    }\n\n    ngOnDestroy() {\n      this.stopTimer();\n    }\n\n    syncTimer() {\n      if (this.target >= Date.now()) {\n        this.startTimer();\n      } else {\n        this.stopTimer();\n      }\n    }\n\n    startTimer() {\n      if (this.platform.isBrowser) {\n        this.ngZone.runOutsideAngular(() => {\n          this.stopTimer();\n          this.updater_ = interval(REFRESH_INTERVAL).subscribe(() => {\n            this.updateValue();\n            this.cdr.detectChanges();\n          });\n        });\n      }\n    }\n\n    stopTimer() {\n      if (this.updater_) {\n        this.updater_.unsubscribe();\n        this.updater_ = null;\n      }\n    }\n    /**\n     * Update time that should be displayed on the screen.\n     */\n\n\n    updateValue() {\n      this.diff = Math.max(this.target - Date.now(), 0);\n\n      if (this.diff === 0) {\n        this.stopTimer();\n        this.nzCountdownFinish.emit();\n      }\n    }\n\n  }\n\n  NzCountdownComponent.ɵfac = function NzCountdownComponent_Factory(t) {\n    return new (t || NzCountdownComponent)(ɵngcc0.ɵɵdirectiveInject(ɵngcc0.ChangeDetectorRef), ɵngcc0.ɵɵdirectiveInject(ɵngcc0.NgZone), ɵngcc0.ɵɵdirectiveInject(ɵngcc4.Platform), ɵngcc0.ɵɵdirectiveInject(ɵngcc1.Directionality, 8));\n  };\n\n  NzCountdownComponent.ɵcmp = /*@__PURE__*/ɵngcc0.ɵɵdefineComponent({\n    type: NzCountdownComponent,\n    selectors: [[\"nz-countdown\"]],\n    inputs: {\n      nzFormat: \"nzFormat\"\n    },\n    outputs: {\n      nzCountdownFinish: \"nzCountdownFinish\"\n    },\n    exportAs: [\"nzCountdown\"],\n    features: [ɵngcc0.ɵɵInheritDefinitionFeature, ɵngcc0.ɵɵNgOnChangesFeature],\n    decls: 3,\n    vars: 6,\n    consts: [[3, \"nzValue\", \"nzValueStyle\", \"nzValueTemplate\", \"nzTitle\", \"nzPrefix\", \"nzSuffix\"], [\"countDownTpl\", \"\"]],\n    template: function NzCountdownComponent_Template(rf, ctx) {\n      if (rf & 1) {\n        ɵngcc0.ɵɵelement(0, \"nz-statistic\", 0);\n        ɵngcc0.ɵɵtemplate(1, NzCountdownComponent_ng_template_1_Template, 2, 4, \"ng-template\", null, 1, ɵngcc0.ɵɵtemplateRefExtractor);\n      }\n\n      if (rf & 2) {\n        const _r0 = ɵngcc0.ɵɵreference(2);\n\n        ɵngcc0.ɵɵproperty(\"nzValue\", ctx.diff)(\"nzValueStyle\", ctx.nzValueStyle)(\"nzValueTemplate\", ctx.nzValueTemplate || _r0)(\"nzTitle\", ctx.nzTitle)(\"nzPrefix\", ctx.nzPrefix)(\"nzSuffix\", ctx.nzSuffix);\n      }\n    },\n    directives: [NzStatisticComponent],\n    pipes: [ɵngcc5.NzTimeRangePipe],\n    encapsulation: 2,\n    changeDetection: 0\n  });\n  return NzCountdownComponent;\n})();\n\n(function () {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && void 0;\n})();\n/**\n * Use of this source code is governed by an MIT-style license that can be\n * found in the LICENSE file at https://github.com/NG-ZORRO/ng-zorro-antd/blob/master/LICENSE\n */\n\n\nlet NzStatisticNumberComponent = /*#__PURE__*/(() => {\n  class NzStatisticNumberComponent {\n    constructor(locale_id) {\n      this.locale_id = locale_id;\n      this.displayInt = '';\n      this.displayDecimal = '';\n    }\n\n    ngOnChanges() {\n      this.formatNumber();\n    }\n\n    formatNumber() {\n      const decimalSeparator = typeof this.nzValue === 'number' ? '.' : getLocaleNumberSymbol(this.locale_id, NumberSymbol.Decimal);\n      const value = String(this.nzValue);\n      const [int, decimal] = value.split(decimalSeparator);\n      this.displayInt = int;\n      this.displayDecimal = decimal ? `${decimalSeparator}${decimal}` : '';\n    }\n\n  }\n\n  NzStatisticNumberComponent.ɵfac = function NzStatisticNumberComponent_Factory(t) {\n    return new (t || NzStatisticNumberComponent)(ɵngcc0.ɵɵdirectiveInject(LOCALE_ID));\n  };\n\n  NzStatisticNumberComponent.ɵcmp = /*@__PURE__*/ɵngcc0.ɵɵdefineComponent({\n    type: NzStatisticNumberComponent,\n    selectors: [[\"nz-statistic-number\"]],\n    inputs: {\n      nzValue: \"nzValue\",\n      nzValueTemplate: \"nzValueTemplate\"\n    },\n    exportAs: [\"nzStatisticNumber\"],\n    features: [ɵngcc0.ɵɵNgOnChangesFeature],\n    decls: 3,\n    vars: 2,\n    consts: [[1, \"ant-statistic-content-value\"], [3, \"ngTemplateOutlet\", \"ngTemplateOutletContext\", 4, \"ngIf\"], [4, \"ngIf\"], [3, \"ngTemplateOutlet\", \"ngTemplateOutletContext\"], [\"class\", \"ant-statistic-content-value-int\", 4, \"ngIf\"], [\"class\", \"ant-statistic-content-value-decimal\", 4, \"ngIf\"], [1, \"ant-statistic-content-value-int\"], [1, \"ant-statistic-content-value-decimal\"]],\n    template: function NzStatisticNumberComponent_Template(rf, ctx) {\n      if (rf & 1) {\n        ɵngcc0.ɵɵelementStart(0, \"span\", 0);\n        ɵngcc0.ɵɵtemplate(1, NzStatisticNumberComponent_ng_container_1_Template, 1, 4, \"ng-container\", 1);\n        ɵngcc0.ɵɵtemplate(2, NzStatisticNumberComponent_ng_container_2_Template, 3, 2, \"ng-container\", 2);\n        ɵngcc0.ɵɵelementEnd();\n      }\n\n      if (rf & 2) {\n        ɵngcc0.ɵɵadvance(1);\n        ɵngcc0.ɵɵproperty(\"ngIf\", ctx.nzValueTemplate);\n        ɵngcc0.ɵɵadvance(1);\n        ɵngcc0.ɵɵproperty(\"ngIf\", !ctx.nzValueTemplate);\n      }\n    },\n    directives: [ɵngcc3.NgIf, ɵngcc3.NgTemplateOutlet],\n    encapsulation: 2,\n    changeDetection: 0\n  });\n  return NzStatisticNumberComponent;\n})();\n\n(function () {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && void 0;\n})();\n/**\n * Use of this source code is governed by an MIT-style license that can be\n * found in the LICENSE file at https://github.com/NG-ZORRO/ng-zorro-antd/blob/master/LICENSE\n */\n\n\nlet NzStatisticModule = /*#__PURE__*/(() => {\n  class NzStatisticModule {}\n\n  NzStatisticModule.ɵfac = function NzStatisticModule_Factory(t) {\n    return new (t || NzStatisticModule)();\n  };\n\n  NzStatisticModule.ɵmod = /*@__PURE__*/ɵngcc0.ɵɵdefineNgModule({\n    type: NzStatisticModule\n  });\n  NzStatisticModule.ɵinj = /*@__PURE__*/ɵngcc0.ɵɵdefineInjector({\n    imports: [[BidiModule, CommonModule, PlatformModule, NzOutletModule, NzPipesModule]]\n  });\n  return NzStatisticModule;\n})();\n\n(function () {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && void 0;\n})();\n\n(function () {\n  (typeof ngJitMode === \"undefined\" || ngJitMode) && ɵngcc0.ɵɵsetNgModuleScope(NzStatisticModule, {\n    declarations: function () {\n      return [NzStatisticComponent, NzCountdownComponent, NzStatisticNumberComponent];\n    },\n    imports: function () {\n      return [BidiModule, CommonModule, PlatformModule, NzOutletModule, NzPipesModule];\n    },\n    exports: function () {\n      return [NzStatisticComponent, NzCountdownComponent, NzStatisticNumberComponent];\n    }\n  });\n})();\n/**\n * Use of this source code is governed by an MIT-style license that can be\n * found in the LICENSE file at https://github.com/NG-ZORRO/ng-zorro-antd/blob/master/LICENSE\n */\n\n/**\n * Generated bundle index. Do not edit.\n */\n\n\nexport { NzCountdownComponent, NzStatisticComponent, NzStatisticModule, NzStatisticNumberComponent }; //# sourceMappingURL=ng-zorro-antd-statistic.js.map","map":null,"metadata":{},"sourceType":"module"}